{% extends "base.html" %}
{% load static i18n wagtailcore_tags wagtailimages_tags wagtailroutablepage_tags wagtailuserbar puput_tags compress %}

{% block title %}
    {{ blog_page.title }}
{% endblock title %}

{% block other_metas %}
  <meta name="title"
        content="{% block meta_title %}
                      {% if blog_page.seo_title %}
                          {{ blog_page.seo_title }}
                      {% else %}
                          {{ blog_page.title }}
                      {% endif %}
                 {% endblock meta_title %}"/>
  <meta name="description"
        content="{% block meta_description %}
                      {{ blog_page.search_description }}
                 {% endblock meta_description %}"/>
{% endblock other_metas %}

{% block puput_head %}  
    {% block social_share %}{% endblock social_share %}
    <link rel="canonical" href="{% block canonical %}{% canonical_url %}{% endblock canonical %}"/>
{% endblock puput_head %}


{% block extra_css %}
    <link href='//fonts.googleapis.com/css?family=Roboto:400,300,300italic,100italic,100,400italic,500,500italic,700,900,700italic,900italic&display=swap' rel='stylesheet' type='text/css'>
    <style>
        body {
            --main-color: {{blog_page.main_color}};
        }
    </style>
    <link rel="stylesheet" href="{% static 'puput/css/puput.css' %}"/>
{% endblock %}

{% block header %}
  {% block blog_header %}
    <header class="header">
      <section class="hero is-medium is-dark is-bold">
        <div class="hero-body">
          <div class="container">
            {% block header_title %}
              <h1 class="title">
                  <a class="has-text-white" href="{% pageurl blog_page %}">{{ blog_page.title }}</a>
              </h1>
            {% endblock header_title %}
            {% if not blog_page.header_image %}
                <p>{{ blog_page.description }}</p>
            {% endif %}
          </div>
        </div>
      </section>
    </header>
  {% endblock blog_header %}
{% endblock header %}

{% block base_content %}
  <nav id="navBar" class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        {# {% image self.navbar_icon fill-112x28 %} #}
        X of Y Business and IT Services
      </a>

      <a
        :class="{ 'navbar-burger burger': true, 'is-active': burgerIsActive}"
        @click="toggleBurger"
        role="button"
        aria-label="menu"
        aria-expanded="false"
        data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div
      id="navbarBasicExample"
      :class="{ 'navbar-menu': true, 'is-active': burgerIsActive}">

      <div class="navbar-end">
        <a class="navbar-item" href="/">
          Home
        </a>
        <a class="navbar-item" href="/#products-and-services">
          Products & Services
        </a>
        <a class="navbar-item" href="/#contact">
          Contact
        </a>
      </div>
    </div>
  </nav>

  <main class="content">
    <section class="section">
      <div class="container container-blog">
          <div class="columns">
              <div class="column is-12-tablet is-9-desktop">
                  {% block content %}{% endblock content %}
                  {% block extra_content %}{% endblock extra_content %}
              </div>

              <div class="column is-12-tablet is-3-desktop">
                  <div class="blog_sidebar">
                      <div class="rss-sitemap">
                          <a href="{% feeds_url blog_page %}" target="_blank" title="RSS">
                               <i class="fa fa-rss-square"></i> <span>{% trans 'Feed RSS' %}</span>
                          </a>
                      </div>
                      <form name="search_form" class="search_form" method="get" action="{% routablepageurl blog_page 'entries_search' %}">
                          <div class="input-group">
                               <input type="search" name="q" placeholder="{% trans 'Search' %}">
                               <span class="input-group-btn">
                                  <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
                               </span>
                          </div>
                      </form>

                      {% if blog_page.display_last_entries %}
                          <ul class="sidebar">
                              <h4>{% trans 'Last Entries' %}</h4>
                              {% recent_entries blog_page.num_last_entries %}
                          </ul>
                      {% endif %}
                      {% if blog_page.display_popular_entries %}
                          <ul class="sidebar">
                              <h4>{% trans 'Popular Entries' %}</h4>
                              {% popular_entries blog_page.num_popular_entries %}
                          </ul>
                      {% endif %}
                      {% if blog_page.display_categories %}
                          <ul class="sidebar">
                              <h4>{% trans 'Categories' %}</h4>
                              {% categories_list %}
                          </ul>
                      {% endif %}
                      {% if blog_page.display_tags %}
                          <ul class="sidebar">
                              <h4>{% trans 'Tags' %}</h4>
                              {% tags_list %}
                          </ul>
                      {% endif %}
                      {% if blog_page.display_archive %}
                          <ul class="sidebar widget menu">
                              <h4>{% trans 'Archive' %}</h4>
                              {% archives_list %}
                          </ul>
                      {% endif %}
                  </div>
              </div>
          </div>
      </div>
    </section>
  </main>
{% endblock base_content %}

{% block footer %}
  <footer class="footer" style="background-color: black;">
    <div class="content has-text-centered">
        <div class="copy">
            <p>
                Powered by <a href="http://www.djangoproject.com" rel="nofollow">Django</a>,
                <a href="http://www.wagtail.io" rel="nofollow">Wagtail</a> and
                <a href="http://github.com/APSL/puput" rel="nofollow">Puput</a>
            </p>
        </div>
    </div>
  </footer>  
{% endblock footer %}

{% block extra_js %}
  {% compress js %}
    <script src="{% static 'puput/js/jquery.min.js' %}"></script>
    <script src="{% static 'puput/js/puput.js' %}"></script>
  {% endcompress %}

  {% if debug %}
    <script src="{% static 'vendor/vue/vue.js' %}"></script>
  {% else %}
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.min.js"></script>
  {% endif %}

  {% compress js %}
    <script src="{% static "home/navBarApp.js" %}"></script>
  {% endcompress %}
{% endblock extra_js %}
